<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AboVert — Plant Disease Detection</title>
  <meta name="description"
    content="Identify plant diseases instantly with AI. Upload or capture a photo of your crop and get diagnosis with treatment recommendations.">
  <meta name="theme-color" content="#0a0f1a">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css?v=2.1">
</head>

<body>

  <!-- ===== HEADER ===== -->
  <header class="app-header" id="appHeader">
    <div class="header-inner">
      <a class="logo" href="#" onclick="navigateTo('home');return false">
        <div class="logo-mark">
          <svg viewBox="0 0 32 32" fill="none">
            <path d="M16 4C16 4 8 12 8 20C8 24.4 11.6 28 16 28C20.4 28 24 24.4 24 20C24 12 16 4 16 4Z"
              fill="url(#leaf-g)" opacity="0.9" />
            <path d="M16 12V24" stroke="rgba(255,255,255,0.5)" stroke-width="1.5" stroke-linecap="round" />
            <path d="M12 18L16 15L20 18" stroke="rgba(255,255,255,0.35)" stroke-width="1.2" stroke-linecap="round"
              stroke-linejoin="round" />
            <defs>
              <linearGradient id="leaf-g" x1="8" y1="4" x2="24" y2="28">
                <stop stop-color="#34d399" />
                <stop offset="1" stop-color="#06b6d4" />
              </linearGradient>
            </defs>
          </svg>
        </div>
        <span class="logo-text">Abo<span class="accent">Vert</span></span>
      </a>

      <nav class="desktop-nav" id="desktopNav">
        <button class="nav-link active" data-page="home">Home</button>
        <button class="nav-link" data-page="library">Library</button>
        <button class="nav-link" data-page="history">History</button>
        <button class="nav-link" data-page="settings">Settings</button>
      </nav>

      <button class="header-action-btn" id="headerScanBtn" data-page="scan">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
          <circle cx="12" cy="13" r="4" />
        </svg>
        New Scan
      </button>
    </div>
  </header>

  <!-- ===== MAIN CONTENT ===== -->
  <main id="mainContent">

    <!-- PAGE: HOME -->
    <div id="page-home" class="page active">
      <section class="home-hero">
        <span class="hero-tag">Plant Disease Detection</span>
        <h1 class="hero-heading">Identify Plant<br>Diseases <span class="accent">Instantly</span></h1>
        <p class="hero-desc">Point your camera at any leaf. Get AI-powered diagnosis with treatment plans in seconds.
        </p>
        <button class="btn btn-primary btn-lg" onclick="navigateTo('scan')">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
            <circle cx="12" cy="13" r="4" />
          </svg>
          Start Scanning
        </button>
      </section>

      <section class="home-steps">
        <h2 class="section-heading">How It Works</h2>
        <div class="steps-row">
          <div class="step-card">
            <div class="step-num">01</div>
            <h3>Capture</h3>
            <p>Take a clear photo of the affected plant leaf</p>
          </div>
          <div class="step-card">
            <div class="step-num">02</div>
            <h3>Analyze</h3>
            <p>AI examines the image for disease patterns</p>
          </div>
          <div class="step-card">
            <div class="step-num">03</div>
            <h3>Diagnose</h3>
            <p>Get detailed results with treatment plans</p>
          </div>
        </div>
      </section>

      <section class="home-recent" id="homeRecent">
        <div class="section-row">
          <h2 class="section-heading">Recent Scans</h2>
          <button class="link-btn" onclick="navigateTo('history')">View All</button>
        </div>
        <div class="recent-grid" id="recentGrid"></div>
        <div class="empty-state" id="homeEmpty">
          <div class="empty-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
              <circle cx="12" cy="13" r="4" />
            </svg>
          </div>
          <p>No scans yet. Start by scanning your first plant!</p>
        </div>
      </section>
    </div>

    <!-- PAGE: LIBRARY -->
    <div id="page-library" class="page">
      <div class="page-top">
        <h1>Disease Library</h1>
        <p>Browse common plant diseases and treatments</p>
      </div>
      <div class="search-bar">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8" />
          <line x1="21" y1="21" x2="16.65" y2="16.65" />
        </svg>
        <input type="text" id="librarySearch" placeholder="Search diseases, crops...">
      </div>
      <div class="filter-row" id="filterRow">
        <button class="chip active" data-filter="all">All</button>
        <button class="chip" data-filter="tomato">Tomato</button>
        <button class="chip" data-filter="potato">Potato</button>
        <button class="chip" data-filter="corn">Corn</button>
        <button class="chip" data-filter="apple">Apple</button>
        <button class="chip" data-filter="grape">Grape</button>
        <button class="chip" data-filter="rice">Rice</button>
      </div>
      <div class="library-grid" id="libraryGrid"></div>
    </div>

    <!-- PAGE: SCAN -->
    <div id="page-scan" class="page">
      <div class="page-top">
        <h1>Scan Plant</h1>
        <p>Upload or capture a photo of the affected leaf</p>
      </div>

      <!-- Upload Zone -->
      <div class="scan-upload-zone" id="scanUploadZone">
        <div class="upload-inner" id="uploadInner">
          <svg width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
            stroke-linecap="round" stroke-linejoin="round" class="upload-art">
            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
            <circle cx="12" cy="13" r="4" />
          </svg>
          <p class="upload-main-text">Drag & drop an image here</p>
          <span class="upload-divider">or</span>
          <div class="upload-btns">
            <label class="btn btn-primary" for="cameraInput">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
                <circle cx="12" cy="13" r="4" />
              </svg>
              Take Photo
            </label>
            <label class="btn btn-outline" for="fileInput">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                <polyline points="17 8 12 3 7 8" />
                <line x1="12" y1="3" x2="12" y2="15" />
              </svg>
              Upload
            </label>
          </div>
          <input type="file" id="cameraInput" accept="image/*" capture="environment" hidden>
          <input type="file" id="fileInput" accept="image/*" hidden>
        </div>
      </div>

      <!-- Image Preview -->
      <div class="scan-preview" id="scanPreview" hidden>
        <div class="preview-wrap">
          <img id="previewImg" alt="Plant leaf preview">
          <div class="scan-animation" id="scanAnimation" hidden>
            <div class="scan-beam"></div>
            <div class="scan-corners"><span></span><span></span><span></span><span></span></div>
            <div class="scan-label">Analyzing...</div>
          </div>
        </div>
        <div class="preview-btns">
          <button class="btn btn-ghost" id="retakeBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18" />
              <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
            Remove
          </button>
          <button class="btn btn-primary btn-analyze" id="analyzeBtn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
            Analyze Disease
          </button>
        </div>
      </div>

      <!-- Results -->
      <div class="scan-results" id="scanResults" hidden></div>
    </div>

    <!-- PAGE: HISTORY -->
    <div id="page-history" class="page">
      <div class="page-top">
        <h1>Scan History</h1>
        <p>Your previous scan results</p>
      </div>
      <div id="historyList"></div>
      <div class="empty-state" id="historyEmpty">
        <div class="empty-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
            stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10" />
            <polyline points="12 6 12 12 16 14" />
          </svg>
        </div>
        <p>No scan history yet.</p>
      </div>
    </div>

    <!-- PAGE: SETTINGS -->
    <div id="page-settings" class="page">
      <div class="page-top">
        <h1>Settings</h1>
      </div>

      <div class="settings-card">
        <h3>Gemini API Key</h3>
        <p class="settings-desc">Required for AI-powered plant disease detection. Get one free at <a
            href="https://aistudio.google.com/apikey" target="_blank" rel="noopener">Google AI Studio</a>.</p>
        <div class="input-row">
          <input type="password" id="apiKeyInput" placeholder="Paste your API key here" autocomplete="off">
          <button class="btn btn-icon" id="toggleKeyBtn" title="Show/Hide key">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
              <circle cx="12" cy="12" r="3" />
            </svg>
          </button>
        </div>
        <button class="btn btn-primary btn-sm" id="saveKeyBtn">Save Key</button>
        <div class="key-status" id="keyStatus"></div>
      </div>

      <div class="settings-card">
        <h3>Data Management</h3>
        <p class="settings-desc">Clear your saved scan history from this device.</p>
        <button class="btn btn-danger btn-sm" id="clearHistoryBtn">Clear All History</button>
      </div>

      <div class="settings-card">
        <h3>About AboVert</h3>
        <p class="settings-desc">Version 2.0 — AI-powered plant disease detection for farmers and gardeners. Built with
          Gemini AI for accurate leaf analysis and treatment recommendations.</p>
      </div>
    </div>
  </main>

  <!-- ===== MOBILE BOTTOM NAV ===== -->
  <nav class="bottom-nav" id="bottomNav">
    <button class="bnav-item active" data-page="home">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
        <polyline points="9 22 9 12 15 12 15 22" />
      </svg>
      <span>Home</span>
    </button>
    <button class="bnav-item" data-page="library">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
      </svg>
      <span>Library</span>
    </button>
    <button class="bnav-scan" data-page="scan" aria-label="Scan Plant">
      <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
        <circle cx="12" cy="13" r="4" />
      </svg>
    </button>
    <button class="bnav-item" data-page="history">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10" />
        <polyline points="12 6 12 12 16 14" />
      </svg>
      <span>History</span>
    </button>
    <button class="bnav-item" data-page="settings">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="3" />
        <path
          d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
      </svg>
      <span>Settings</span>
    </button>
  </nav>

  <!-- Toast -->
  <div class="toast" id="toast" hidden>
    <span class="toast-icon" id="toastIcon"></span>
    <span class="toast-msg" id="toastMsg"></span>
  </div>

  <script src="app.js?v=2.1"></script>
</body>

</html>